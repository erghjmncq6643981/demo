<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fomoney.horus.core.commons.mapper.IMonitorRecordInfoMapper">
	<resultMap id="monitorRecordInfoMap" type="com.fomoney.horus.core.commons.entity.MonitorRecordInfo">
		<result property="id" column="id"/>
		<result property="serviceId" column="service_id"/>
		<result property="requestHost" column="request_host"/>
		<result property="method" column="method"/>
		<result property="body" column="body"/>
		<result property="uri" column="uri"/>
		<result property="duration" column="duration"/>
		<result property="responseStatus" column="response_status"/>
		<result property="operationTime" column="operation_time"/>
		<result property="tokenResult" column="token_result"/>
	</resultMap>
    <select id="getMonitorRecordInfoList" resultMap="monitorRecordInfoMap">
    	select id,service_id,request_host,method,body,uri,duration,response_status,operation_time,token_result 
    	from monitor_record_info
    </select>
    <insert id="insertMonitorRecordInfo" parameterType="com.fomoney.horus.core.commons.entity.MonitorRecordInfo" useGeneratedKeys="true" keyProperty="id" >
       <![CDATA[
       INSERT INTO monitor_record_info 
       (
           service_id,
           request_host,
           method,
           body,
           uri,
           duration,
           response_status,
           token_result,
           operation_time
       )
       VALUES
       (
       	   #{serviceId, jdbcType=VARCHAR},
           #{requestHost, jdbcType=VARCHAR},
           #{method, jdbcType=VARCHAR},
           #{body, jdbcType=VARCHAR},
           #{uri, jdbcType=VARCHAR},
           #{duration, jdbcType=INTEGER},
           #{responseStatus, jdbcType=VARCHAR},
           #{tokenResult, jdbcType=VARCHAR},
           #{operationTime, jdbcType=TIMESTAMP}
       )
       ]]>
   </insert>
</mapper>