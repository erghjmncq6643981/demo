<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fomoney.horus.core.commons.mapper.IZuulRouteMapper">
	<resultMap id="zuulRouteMap" type="com.fomoney.horus.core.commons.entity.ZuulRouteVO">
		<result property="keyOnly" column="key_only"/>
		<result property="id" column="id"/>
		<result property="path" column="path"/>
		<result property="serviceId" column="service_id"/>
		<result property="url" column="url"/>
		<result property="retryable" column="retryable"/>
		<result property="stripPrefix" column="strip_prefix"/>
		<result property="customSensitiveHeaders" column="custom_sensitive_headers"/>
	</resultMap>
    <select id="seletZuulRoute" resultMap="zuulRouteMap">
    	select key_only,id,path,iden.service_id service_id,url,retryable,strip_prefix,custom_sensitive_headers
    	from gateway_api_define gateway left join identify_info iden
    	on gateway.iden_id=iden.iden_id
    	and enabled=true
    	order by key_only
    </select>
    
</mapper>